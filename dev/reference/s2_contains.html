<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>S2 Geography Predicates — s2_contains • s2</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="S2 Geography Predicates — s2_contains"><meta name="description" content="These functions operate two geography vectors (pairwise), and return
a logical vector."><meta property="og:description" content="These functions operate two geography vectors (pairwise), and return
a logical vector."><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">s2</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.1.8.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/intro.html">Introduction to s2</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-spatial/s2/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>S2 Geography Predicates</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-spatial/s2/blob/main/R/s2-predicates.R" class="external-link"><code>R/s2-predicates.R</code></a></small>
      <div class="d-none name"><code>s2_contains.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>These functions operate two geography vectors (pairwise), and return
a logical vector.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">s2_contains</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, options <span class="op">=</span> <span class="fu"><a href="s2_options.html">s2_options</a></span><span class="op">(</span>model <span class="op">=</span> <span class="st">"open"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_within</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, options <span class="op">=</span> <span class="fu"><a href="s2_options.html">s2_options</a></span><span class="op">(</span>model <span class="op">=</span> <span class="st">"open"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_covered_by</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, options <span class="op">=</span> <span class="fu"><a href="s2_options.html">s2_options</a></span><span class="op">(</span>model <span class="op">=</span> <span class="st">"closed"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_covers</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, options <span class="op">=</span> <span class="fu"><a href="s2_options.html">s2_options</a></span><span class="op">(</span>model <span class="op">=</span> <span class="st">"closed"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_disjoint</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, options <span class="op">=</span> <span class="fu"><a href="s2_options.html">s2_options</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_intersects</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, options <span class="op">=</span> <span class="fu"><a href="s2_options.html">s2_options</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_equals</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, options <span class="op">=</span> <span class="fu"><a href="s2_options.html">s2_options</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_intersects_box</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">lng1</span>,</span>
<span>  <span class="va">lat1</span>,</span>
<span>  <span class="va">lng2</span>,</span>
<span>  <span class="va">lat2</span>,</span>
<span>  detail <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  options <span class="op">=</span> <span class="fu"><a href="s2_options.html">s2_options</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_touches</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, options <span class="op">=</span> <span class="fu"><a href="s2_options.html">s2_options</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_dwithin</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">distance</span>, radius <span class="op">=</span> <span class="fu"><a href="s2_earth_radius_meters.html">s2_earth_radius_meters</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_prepared_dwithin</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">distance</span>, radius <span class="op">=</span> <span class="fu"><a href="s2_earth_radius_meters.html">s2_earth_radius_meters</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x-y">x, y<a class="anchor" aria-label="anchor" href="#arg-x-y"></a></dt>
<dd><p><a href="as_s2_geography.html">geography vectors</a>. These inputs
are passed to <code><a href="as_s2_geography.html">as_s2_geography()</a></code>, so you can pass other objects
(e.g., character vectors of well-known text) directly.</p></dd>


<dt id="arg-options">options<a class="anchor" aria-label="anchor" href="#arg-options"></a></dt>
<dd><p>An <code><a href="s2_options.html">s2_options()</a></code> object describing the polygon/polyline
model to use and the snap level.</p></dd>


<dt id="arg-lng-lat-lng-lat-">lng1, lat1, lng2, lat2<a class="anchor" aria-label="anchor" href="#arg-lng-lat-lng-lat-"></a></dt>
<dd><p>A latitude/longitude range</p></dd>


<dt id="arg-detail">detail<a class="anchor" aria-label="anchor" href="#arg-detail"></a></dt>
<dd><p>The number of points with which to approximate
non-geodesic edges.</p></dd>


<dt id="arg-distance">distance<a class="anchor" aria-label="anchor" href="#arg-distance"></a></dt>
<dd><p>A distance on the surface of the earth in the same units
as <code>radius</code>.</p></dd>


<dt id="arg-radius">radius<a class="anchor" aria-label="anchor" href="#arg-radius"></a></dt>
<dd><p>Radius of the earth. Defaults to the average radius of
the earth in meters as defined by <code><a href="s2_earth_radius_meters.html">s2_earth_radius_meters()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="model">Model<a class="anchor" aria-label="anchor" href="#model"></a></h2>


<p>The geometry model indicates whether or not a geometry includes its boundaries.
Boundaries of line geometries are its end points.
OPEN geometries do not contain their boundary (<code>model = "open"</code>); CLOSED
geometries (<code>model = "closed"</code>) contain their boundary; SEMI-OPEN geometries
(<code>model = "semi-open"</code>) contain half of their boundaries, such that when two polygons
do not overlap or two lines do not cross, no point exist that belong to
more than one of the geometries. (This latter form, half-closed, is
not present in the OpenGIS "simple feature access" (SFA) standard nor DE9-IM on
which that is based). The default values for <code>s2_contains()</code> (open)
and covers/covered_by (closed) correspond to the SFA standard specification
of these operators.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Matrix versions of these predicates (e.g., <code><a href="s2_closest_feature.html">s2_intersects_matrix()</a></code>).</p>
<p>BigQuery's geography function reference:</p><ul><li><p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#st_contains" class="external-link">ST_CONTAINS</a></p></li>
<li><p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#st_coveredby" class="external-link">ST_COVEREDBY</a></p></li>
<li><p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#st_covers" class="external-link">ST_COVERS</a></p></li>
<li><p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#st_disjoint" class="external-link">ST_DISJOINT</a></p></li>
<li><p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#st_equals" class="external-link">ST_EQUALS</a></p></li>
<li><p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#st_intersects" class="external-link">ST_INTERSECTS</a></p></li>
<li><p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#st_intersectsbox" class="external-link">ST_INTERSECTSBOX</a></p></li>
<li><p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#st_touches" class="external-link">ST_TOUCHES</a></p></li>
<li><p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#st_within" class="external-link">ST_WITHIN</a></p></li>
<li><p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#st_dwithin" class="external-link">ST_DWITHIN</a></p></li>
</ul></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">s2_contains</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"POLYGON ((0 0, 10 0, 10 10, 0 10, 0 0))"</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"POINT (5 5)"</span>, <span class="st">"POINT (-1 1)"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  TRUE FALSE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">s2_within</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"POINT (5 5)"</span>, <span class="st">"POINT (-1 1)"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="st">"POLYGON ((0 0, 10 0, 10 10, 0 10, 0 0))"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  TRUE FALSE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">s2_covered_by</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"POLYGON ((0 0, 10 0, 10 10, 0 10, 0 0))"</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"POINT (5 5)"</span>, <span class="st">"POINT (-1 1)"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE FALSE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">s2_covers</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"POLYGON ((0 0, 10 0, 10 10, 0 10, 0 0))"</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"POINT (5 5)"</span>, <span class="st">"POINT (-1 1)"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  TRUE FALSE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">s2_disjoint</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"POLYGON ((0 0, 10 0, 10 10, 0 10, 0 0))"</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"POINT (5 5)"</span>, <span class="st">"POINT (-1 1)"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE  TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">s2_intersects</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"POLYGON ((0 0, 10 0, 10 10, 0 10, 0 0))"</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"POINT (5 5)"</span>, <span class="st">"POINT (-1 1)"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  TRUE FALSE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">s2_equals</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"POLYGON ((0 0, 10 0, 10 10, 0 10, 0 0))"</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"POLYGON ((0 0, 10 0, 10 10, 0 10, 0 0))"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"POLYGON ((10 0, 10 10, 0 10, 0 0, 10 0))"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"POLYGON ((-1 -1, 10 0, 10 10, 0 10, -1 -1))"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  TRUE  TRUE FALSE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">s2_intersects</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"POLYGON ((0 0, 10 0, 10 10, 0 10, 0 0))"</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"POINT (5 5)"</span>, <span class="st">"POINT (-1 1)"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  TRUE FALSE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">s2_intersects_box</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"POINT (5 5)"</span>, <span class="st">"POINT (-1 1)"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">10</span>, <span class="fl">10</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  TRUE FALSE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">s2_touches</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"POLYGON ((0 0, 0 1, 1 1, 0 0))"</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"POINT (0 0)"</span>, <span class="st">"POINT (0.5 0.75)"</span>, <span class="st">"POINT (0 0.5)"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  TRUE FALSE FALSE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">s2_dwithin</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"POLYGON ((0 0, 10 0, 10 10, 0 10, 0 0))"</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"POINT (5 5)"</span>, <span class="st">"POINT (-1 1)"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fl">0</span> <span class="co"># distance in meters</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  TRUE FALSE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">s2_dwithin</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"POLYGON ((0 0, 10 0, 10 10, 0 10, 0 0))"</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"POINT (5 5)"</span>, <span class="st">"POINT (-1 1)"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fl">1e6</span> <span class="co"># distance in meters</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE TRUE</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dewey Dunnington, Edzer Pebesma, Ege Rubak.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

