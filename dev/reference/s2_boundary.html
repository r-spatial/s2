<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>S2 Geography Transformations — s2_boundary • s2</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="S2 Geography Transformations — s2_boundary"><meta property="og:description" content="These functions operate on one or more geography vectors and
return a geography vector."><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">s2</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">1.1.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/intro.html">Introduction to s2</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/r-spatial/s2/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>S2 Geography Transformations</h1>
    <small class="dont-index">Source: <a href="https://github.com/r-spatial/s2/blob/HEAD/R/s2-transformers.R" class="external-link"><code>R/s2-transformers.R</code></a></small>
    <div class="hidden name"><code>s2_boundary.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These functions operate on one or more geography vectors and
return a geography vector.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">s2_boundary</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_centroid</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_closest_point</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_minimum_clearance_line_between</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_difference</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, options <span class="op">=</span> <span class="fu"><a href="s2_options.html">s2_options</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_sym_difference</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, options <span class="op">=</span> <span class="fu"><a href="s2_options.html">s2_options</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_intersection</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, options <span class="op">=</span> <span class="fu"><a href="s2_options.html">s2_options</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_union</span><span class="op">(</span><span class="va">x</span>, y <span class="op">=</span> <span class="cn">NULL</span>, options <span class="op">=</span> <span class="fu"><a href="s2_options.html">s2_options</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_snap_to_grid</span><span class="op">(</span><span class="va">x</span>, <span class="va">grid_size</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_simplify</span><span class="op">(</span><span class="va">x</span>, <span class="va">tolerance</span>, radius <span class="op">=</span> <span class="fu"><a href="s2_earth_radius_meters.html">s2_earth_radius_meters</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_rebuild</span><span class="op">(</span><span class="va">x</span>, options <span class="op">=</span> <span class="fu"><a href="s2_options.html">s2_options</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_buffer_cells</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">distance</span>,</span>
<span>  max_cells <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  min_level <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>,</span>
<span>  radius <span class="op">=</span> <span class="fu"><a href="s2_earth_radius_meters.html">s2_earth_radius_meters</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_convex_hull</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_centroid_agg</span><span class="op">(</span><span class="va">x</span>, na.rm <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_coverage_union_agg</span><span class="op">(</span><span class="va">x</span>, options <span class="op">=</span> <span class="fu"><a href="s2_options.html">s2_options</a></span><span class="op">(</span><span class="op">)</span>, na.rm <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_rebuild_agg</span><span class="op">(</span><span class="va">x</span>, options <span class="op">=</span> <span class="fu"><a href="s2_options.html">s2_options</a></span><span class="op">(</span><span class="op">)</span>, na.rm <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_union_agg</span><span class="op">(</span><span class="va">x</span>, options <span class="op">=</span> <span class="fu"><a href="s2_options.html">s2_options</a></span><span class="op">(</span><span class="op">)</span>, na.rm <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_convex_hull_agg</span><span class="op">(</span><span class="va">x</span>, na.rm <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s2_point_on_surface</span><span class="op">(</span><span class="va">x</span>, na.rm <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p><a href="as_s2_geography.html">geography vectors</a>. These inputs
are passed to <code><a href="as_s2_geography.html">as_s2_geography()</a></code>, so you can pass other objects
(e.g., character vectors of well-known text) directly.</p></dd>


<dt>y</dt>
<dd><p><a href="as_s2_geography.html">geography vectors</a>. These inputs
are passed to <code><a href="as_s2_geography.html">as_s2_geography()</a></code>, so you can pass other objects
(e.g., character vectors of well-known text) directly.</p></dd>


<dt>options</dt>
<dd><p>An <code><a href="s2_options.html">s2_options()</a></code> object describing the polygon/polyline
model to use and the snap level.</p></dd>


<dt>grid_size</dt>
<dd><p>The grid size to which coordinates should be snapped;
will be rounded to the nearest power of 10.</p></dd>


<dt>tolerance</dt>
<dd><p>The minimum distance between vertexes to use when
simplifying a geography.</p></dd>


<dt>radius</dt>
<dd><p>Radius of the earth. Defaults to the average radius of
the earth in meters as defined by <code><a href="s2_earth_radius_meters.html">s2_earth_radius_meters()</a></code>.</p></dd>


<dt>distance</dt>
<dd><p>The distance to buffer, in units of <code>radius</code>.</p></dd>


<dt>max_cells</dt>
<dd><p>The maximum number of cells to approximate a buffer.</p></dd>


<dt>min_level</dt>
<dd><p>The minimum cell level used to approximate a buffer
(1 - 30). Setting this value too high will result in unnecessarily
large geographies, but may help improve buffers along long, narrow
regions.</p></dd>


<dt>na.rm</dt>
<dd><p>For aggregate calculations use <code>na.rm = TRUE</code>
to drop missing values.</p></dd>

</dl></div>
    <div id="model">
    <h2>Model</h2>
    

<p>The geometry model indicates whether or not a geometry includes its boundaries.
Boundaries of line geometries are its end points.
OPEN geometries do not contain their boundary (<code>model = "open"</code>); CLOSED
geometries (<code>model = "closed"</code>) contain their boundary; SEMI-OPEN geometries
(<code>model = "semi-open"</code>) contain half of their boundaries, such that when two polygons
do not overlap or two lines do not cross, no point exist that belong to
more than one of the geometries. (This latter form, half-closed, is
not present in the OpenGIS "simple feature access" (SFA) standard nor DE9-IM on
which that is based). The default values for <code><a href="s2_contains.html">s2_contains()</a></code> (open)
and covers/covered_by (closed) correspond to the SFA standard specification
of these operators.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>BigQuery's geography function reference:</p><ul><li><p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#st_boundary" class="external-link">ST_BOUNDARY</a></p></li>
<li><p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#st_centroid" class="external-link">ST_CENTROID</a></p></li>
<li><p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#st_closestpoint" class="external-link">ST_CLOSESTPOINT</a></p></li>
<li><p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#st_difference" class="external-link">ST_DIFFERENCE</a></p></li>
<li><p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#st_intersection" class="external-link">ST_INTERSECTION</a></p></li>
<li><p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#st_union" class="external-link">ST_UNION</a></p></li>
<li><p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#st_snaptogrid" class="external-link">ST_SNAPTOGRID</a></p></li>
<li><p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#st_simplify" class="external-link">ST_SIMPLIFY</a></p></li>
<li><p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#st_union_agg" class="external-link">ST_UNION_AGG</a></p></li>
<li><p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#s2_centroid_agg" class="external-link">ST_CENTROID_AGG</a></p></li>
</ul></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># returns the boundary:</span></span></span>
<span class="r-in"><span><span class="co"># empty for point, endpoints of a linestring,</span></span></span>
<span class="r-in"><span><span class="co"># perimeter of a polygon</span></span></span>
<span class="r-in"><span><span class="fu">s2_boundary</span><span class="op">(</span><span class="st">"POINT (-64 45)"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;geodesic s2_geography[1] with CRS=OGC:CRS84&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] GEOMETRYCOLLECTION EMPTY</span>
<span class="r-in"><span><span class="fu">s2_boundary</span><span class="op">(</span><span class="st">"LINESTRING (0 0, 10 0)"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;geodesic s2_geography[1] with CRS=OGC:CRS84&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] MULTIPOINT ((0 0), (10 0))</span>
<span class="r-in"><span><span class="fu">s2_boundary</span><span class="op">(</span><span class="st">"POLYGON ((0 0, 10 0, 10 10, 0 10, 0 0))"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;geodesic s2_geography[1] with CRS=OGC:CRS84&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] LINESTRING (0 0, 10 0, 10 10, 0 10, 0 0...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># returns the area-weighted centroid, element-wise</span></span></span>
<span class="r-in"><span><span class="fu">s2_centroid</span><span class="op">(</span><span class="st">"POLYGON ((0 0, 10 0, 10 10, 0 10, 0 0))"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;geodesic s2_geography[1] with CRS=OGC:CRS84&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] POINT (5 5.00595863)</span>
<span class="r-in"><span><span class="fu">s2_centroid</span><span class="op">(</span><span class="st">"LINESTRING (0 0, 10 0)"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;geodesic s2_geography[1] with CRS=OGC:CRS84&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] POINT (5 0)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># s2_point_on_surface guarantees a point on surface</span></span></span>
<span class="r-in"><span><span class="co"># Note: this is not the same as st_point_on_surface</span></span></span>
<span class="r-in"><span><span class="fu">s2_centroid</span><span class="op">(</span><span class="st">"POLYGON ((0 0, 10 0, 1 1, 0 10, 0 0))"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;geodesic s2_geography[1] with CRS=OGC:CRS84&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] POINT (2.00377112 2.00234355)</span>
<span class="r-in"><span><span class="fu">s2_point_on_surface</span><span class="op">(</span><span class="st">"POLYGON ((0 0, 10 0, 1 1, 0 10, 0 0))"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;geodesic s2_geography[1] with CRS=OGC:CRS84&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] POINT (0.450236802 0.450222902)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># returns the unweighted centroid of the entire input</span></span></span>
<span class="r-in"><span><span class="fu">s2_centroid_agg</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"POINT (0 0)"</span>, <span class="st">"POINT (10 0)"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;geodesic s2_geography[1] with CRS=OGC:CRS84&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] POINT (5 0)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># returns the closest point on x to y</span></span></span>
<span class="r-in"><span><span class="fu">s2_closest_point</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"POLYGON ((0 0, 10 0, 10 10, 0 10, 0 0))"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"POINT (0 90)"</span> <span class="co"># north pole!</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;geodesic s2_geography[1] with CRS=OGC:CRS84&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] POINT (5 10.037423)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># returns the shortest possible line between x and y</span></span></span>
<span class="r-in"><span><span class="fu">s2_minimum_clearance_line_between</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"POLYGON ((0 0, 10 0, 10 10, 0 10, 0 0))"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"POINT (0 90)"</span> <span class="co"># north pole!</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;geodesic s2_geography[1] with CRS=OGC:CRS84&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] LINESTRING (5 10.037423, 0 90)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># binary operations: difference, symmetric difference, intersection and union</span></span></span>
<span class="r-in"><span><span class="fu">s2_difference</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"POLYGON ((0 0, 10 0, 10 10, 0 10, 0 0))"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"POLYGON ((5 5, 15 5, 15 15, 5 15, 5 5))"</span>,</span></span>
<span class="r-in"><span>  <span class="co"># 32 bit platforms may need to set snap rounding</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="s2_options.html">s2_options</a></span><span class="op">(</span>snap <span class="op">=</span> <span class="fu"><a href="s2_options.html">s2_snap_level</a></span><span class="op">(</span><span class="fl">30</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;geodesic s2_geography[1] with CRS=OGC:CRS84&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] POLYGON ((5.00000004 10.0374231, 3.55739019e-08 10, 3.55739019e-08 3.55739019e-08, 10 3.50334544e-08, 10 5.01900178...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">s2_sym_difference</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"POLYGON ((0 0, 10 0, 10 10, 0 10, 0 0))"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"POLYGON ((5 5, 15 5, 15 15, 5 15, 5 5))"</span>,</span></span>
<span class="r-in"><span>  <span class="co"># 32 bit platforms may need to set snap rounding</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="s2_options.html">s2_options</a></span><span class="op">(</span>snap <span class="op">=</span> <span class="fu"><a href="s2_options.html">s2_snap_level</a></span><span class="op">(</span><span class="fl">30</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;geodesic s2_geography[1] with CRS=OGC:CRS84&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] MULTIPOLYGON (((5.00000004 10.0374231, 3.55739019e-08 10, 3.55739019e-08 3.55739019e-08, 10 3.50334544e-08, 10 5.01900178...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">s2_intersection</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"POLYGON ((0 0, 10 0, 10 10, 0 10, 0 0))"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"POLYGON ((5 5, 15 5, 15 15, 5 15, 5 5))"</span>,</span></span>
<span class="r-in"><span>  <span class="co"># 32 bit platforms may need to set snap rounding</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="s2_options.html">s2_options</a></span><span class="op">(</span>snap <span class="op">=</span> <span class="fu"><a href="s2_options.html">s2_snap_level</a></span><span class="op">(</span><span class="fl">30</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;geodesic s2_geography[1] with CRS=OGC:CRS84&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] POLYGON ((5.00000004 4.99999997, 10 5.01900178, 10 9.99999999, 5.00000004 10.0374231, 5.00000004 4.99999997...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">s2_union</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"POLYGON ((0 0, 10 0, 10 10, 0 10, 0 0))"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"POLYGON ((5 5, 15 5, 15 15, 5 15, 5 5))"</span>,</span></span>
<span class="r-in"><span>  <span class="co"># 32 bit platforms may need to set snap rounding</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="s2_options.html">s2_options</a></span><span class="op">(</span>snap <span class="op">=</span> <span class="fu"><a href="s2_options.html">s2_snap_level</a></span><span class="op">(</span><span class="fl">30</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;geodesic s2_geography[1] with CRS=OGC:CRS84&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] POLYGON ((5.00000004 10.0374231, 3.55739019e-08 10, 3.55739019e-08 3.55739019e-08, 10 3.50334544e-08, 10 5.01900178...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># s2_convex_hull_agg builds the convex hull of a list of geometries</span></span></span>
<span class="r-in"><span><span class="fu">s2_convex_hull_agg</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"POLYGON ((0 0, 10 0, 10 10, 0 10, 0 0))"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"POLYGON ((5 5, 15 5, 15 15, 5 15, 5 5))"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;geodesic s2_geography[1] with CRS=OGC:CRS84&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] POLYGON ((0 0, 10 0, 15 5, 15 15, 5 15...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># use s2_union_agg() to aggregate geographies in a vector</span></span></span>
<span class="r-in"><span><span class="fu">s2_coverage_union_agg</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"POLYGON ((0 0, 10 0, 10 10, 0 10, 0 0))"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"POLYGON ((5 5, 15 5, 15 15, 5 15, 5 5))"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="co"># 32 bit platforms may need to set snap rounding</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="s2_options.html">s2_options</a></span><span class="op">(</span>snap <span class="op">=</span> <span class="fu"><a href="s2_options.html">s2_snap_level</a></span><span class="op">(</span><span class="fl">30</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;geodesic s2_geography[1] with CRS=OGC:CRS84&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] POLYGON ((5.00000004 10.0374231, 3.55739019e-08 10, 3.55739019e-08 3.55739019e-08, 10 3.50334544e-08, 10 5.01900178...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># snap to grid rounds coordinates to a specified grid size</span></span></span>
<span class="r-in"><span><span class="fu">s2_snap_to_grid</span><span class="op">(</span><span class="st">"POINT (0.333333333333 0.666666666666)"</span>, <span class="fl">1e-2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;geodesic s2_geography[1] with CRS=OGC:CRS84&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] POINT (0.33 0.67)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Dewey Dunnington, Edzer Pebesma, Ege Rubak.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

